import{r,d as p,o as m,w as b,a as v,c as s,b as B,e as f,f as W,g as T,h as c}from"./apollo.DbE8OQgH.js";const ve=p({__name:"Alert",props:{message:{type:String,required:!0}},emits:["close"],setup(e,{emit:n}){const t=e,o=n,{showAlert:a}=k();return m(()=>a(t.message,()=>o("close"))),(i,l)=>null}}),We=p({__name:"BackButton",props:{visible:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:n}){const t=e,o=n,{showBackButton:a,onBackButtonClicked:i,hideBackButton:l}=Ne();return b(()=>t.visible,u=>{u?a():l()}),i(()=>o("click")),m(()=>t.visible&&a()),v(()=>l()),(u,h)=>null}}),Se=p({__name:"BiometricManager",emits:["init"],setup(e,{emit:n}){const t=n,{initBiometric:o}=Ye();return m(()=>o(()=>t("init"))),(a,i)=>null}}),Ce=p({__name:"ClosingConfirmation",setup(e){const{enableClosingConfirmation:n,disableClosingConfirmation:t}=Ze();return m(()=>n()),v(()=>t()),(o,a)=>null}}),ke=p({__name:"Confirm",props:{message:{type:String,required:!0}},emits:["close"],setup(e,{emit:n}){const t=e,o=n,{showConfirm:a}=k();return m(()=>a(t.message,i=>o("close",i))),(i,l)=>null}}),ye=p({__name:"ExpandedViewport",props:{force:{type:Boolean,default:!1}},setup(e){const n=e,{isFeatureSupported:t}=d(),{onViewportChanged:o,expand:a,isExpanded:i,isVerticalSwipesEnabled:l}=Bt();return t("DisableVerticalSwipes")?b(()=>n.force,u=>{u&&!i.value&&a(),l.value=!u},{immediate:!0}):o(({isStateStable:u})=>{n.force&&u&&!i.value&&a()}),m(()=>a()),(u,h)=>null}}),we=p({__name:"MainButton",props:{text:{type:String},color:{type:String},textColor:{type:String},visible:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},progress:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const t=e,o=n,{setMainButtonParams:a,onMainButtonClicked:i,hideMainButton:l,showMainButtonProgress:u,hideMainButtonProgress:h}=at();return b(()=>t.text,g=>{a({text:g})}),b(()=>t.color,g=>{a({color:g})}),b(()=>t.textColor,g=>{a({text_color:g})}),b(()=>t.visible,g=>{a({is_visible:g})}),b(()=>t.disabled,g=>{a({is_active:!g})}),b(()=>t.progress,g=>{g?u():h()}),i(()=>o("click")),m(()=>{t.progress?u():h(),a({text:t.text,text_color:t.textColor,color:t.color,is_active:!t.disabled,is_visible:t.visible})}),v(()=>{h(),l()}),(g,ft)=>null}}),Me=p({__name:"Popup",props:{title:{type:String},message:{type:String,required:!0},buttons:{type:Array}},emits:["close"],setup(e,{emit:n}){const t=e,o=n,{showPopup:a}=k();return m(()=>a({title:t.title,message:t.message,buttons:t.buttons},i=>o("close",i))),(i,l)=>null}}),_e=p({__name:"ScanQr",props:{text:{type:String}},emits:["result"],setup(e,{emit:n}){const t=e,o=n,{showScanQrPopup:a,closeScanQrPopup:i}=mt();return m(()=>a({text:t.text},l=>o("result",l))),v(()=>i()),(l,u)=>null}}),xe=p({__name:"SettingsButton",props:{visible:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:n}){const t=e,o=n,{showSettingsButton:a,onSettingsButtonClicked:i,hideSettingsButton:l}=dt();return b(()=>t.visible,u=>{u?a():l()}),i(()=>o("click")),m(()=>t.visible&&a()),v(()=>l()),(u,h)=>null}}),Pe=p({__name:"ShareWidget",props:{url:{type:String,required:!0},comment:{type:String,default:null},size:{type:String,default:null},noLabel:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e){const n=e,t=s(()=>JSON.stringify(n));return(o,a)=>(B(),f(T(e.tag),{key:t.value},{default:W(()=>[(B(),f(T("script"),{async:"",src:"https://telegram.org/js/telegram-widget.js?22","data-telegram-share-url":e.url,"data-size":e.size,"data-comment":e.comment,"data-text":e.noLabel?"notext":null},null,8,["data-telegram-share-url","data-size","data-comment","data-text"]))]),_:1}))}}),Ve=p({__name:"PostWidget",props:{url:{type:String,required:!0},width:{type:String,default:null},authorPhoto:{type:Boolean,default:null},color:{type:String,default:null},darkColor:{type:String,default:null},dark:{type:Boolean,default:null},tag:{type:String,default:"div"}},setup(e){const n=e,t=s(()=>JSON.stringify(n));return(o,a)=>(B(),f(T(e.tag),{key:t.value},{default:W(()=>[(B(),f(T("script"),{async:"",src:"https://telegram.org/js/telegram-widget.js?22","data-telegram-post":e.url,"data-width":e.width,"data-userpic":e.authorPhoto,"data-color":e.color,"data-dark-color":e.darkColor,"data-dark":e.dark},null,8,["data-telegram-post","data-width","data-userpic","data-color","data-dark-color","data-dark"]))]),_:1}))}}),Ee=p({__name:"LoginWidget",props:{botUsername:{type:String,required:!0},redirectUrl:{type:String,default:null},size:{type:String,default:null},cornerRadius:{type:String,default:null},userPhoto:{type:Boolean,default:null},requestWrite:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["auth"],setup(e,{emit:n}){const t=e,o=s(()=>JSON.stringify(t)),a=n;return m(()=>{window.onTelegramAuth=i=>a("auth",i)}),(i,l)=>(B(),f(T(e.tag),{key:o.value},{default:W(()=>[(B(),f(T("script"),{async:"",src:"https://telegram.org/js/telegram-widget.js?22","data-telegram-login":e.botUsername,"data-size":e.size,"data-radius":e.cornerRadius,"data-userpic":e.userPhoto,"data-request-access":e.requestWrite?"write":null,"data-onauth":e.redirectUrl?null:"onTelegramAuth(user)","data-auth-url":e.redirectUrl},null,8,["data-telegram-login","data-size","data-radius","data-userpic","data-request-access","data-onauth","data-auth-url"]))]),_:1}))}}),qe=p({__name:"DiscussionWidget",props:{url:{type:String,required:!0},commentsLimit:{type:Number,default:null},height:{type:String,default:null},color:{type:String,default:null},darkColor:{type:String,default:null},dark:{type:Boolean,default:null},colorful:{type:Boolean,default:null},tag:{type:String,default:"div"}},setup(e){const n=e,t=s(()=>JSON.stringify(n));return(o,a)=>(B(),f(T(e.tag),{key:t.value},{default:W(()=>[(B(),f(T("script"),{async:"",src:"https://telegram.org/js/telegram-widget.js?22","data-telegram-discussion":e.url,"data-comments-limit":e.commentsLimit,"data-height":e.height,"data-color":e.color,"data-dark-color":e.darkColor,"data-dark":e.dark,"data-colorful":e.colorful},null,8,["data-telegram-discussion","data-comments-limit","data-height","data-color","data-dark-color","data-dark","data-colorful"]))]),_:1}))}}),{initData:De,initDataUnsafe:Le,version:Qe,platform:Ue,isVersionAtLeast:O,sendData:Re,close:He}=Telegram.WebApp,N=r(!1),Ie=(...e)=>{Telegram.WebApp.ready(...e),N.value=!0},G=e=>Telegram.WebApp.platform===e,J=G("unknown"),je={ClosingConfirmation:"6.2",CloudStorage:"6.9",RequestWriteAccess:"6.9",RequestContact:"6.9",SettingsButton:"7.0",BiometricManager:"7.2",DisableVerticalSwipes:"7.7"},ze=e=>O(je[e]),Oe=!J&&Telegram.WebApp.initData==="";function d(){return{initData:De,initDataUnsafe:Le,version:Qe,platform:Ue,isVersionAtLeast:O,onEvent:(e,n,t={manual:!1})=>{const{manual:o}=t,a=()=>{Telegram.WebApp.onEvent(e,n)},i=()=>{Telegram.WebApp.offEvent(e,n)};return o?a():(m(a),v(i)),{off:i}},sendData:Re,ready:Ie,close:He,isReady:c(N),isPlatform:G,isPlatformUnknown:J,isFeatureSupported:ze,canSendData:Oe}}const F=r(Telegram.WebApp.BackButton.isVisible);function $(){F.value=Telegram.WebApp.BackButton.isVisible}function w(...e){Telegram.WebApp.BackButton.show(...e),$()}function M(...e){Telegram.WebApp.BackButton.hide(...e),$()}function Ne(){const{onEvent:e}=d(),n=(t,o)=>e("backButtonClicked",t,o);return{isBackButtonVisible:s({get(){return F.value},set(t){t?w():M()}}),onBackButtonClicked:n,showBackButton:w,hideBackButton:M}}const{init:Ge,requestAccess:Je,authenticate:Fe,updateBiometricToken:$e,openSettings:Ke}=Telegram.WebApp.BiometricManager,K=r(Telegram.WebApp.BiometricManager.isInited),X=r(Telegram.WebApp.BiometricManager.isBiometricAvailable),Y=r(Telegram.WebApp.BiometricManager.biometricType),Z=r(Telegram.WebApp.BiometricManager.isAccessRequested),ee=r(Telegram.WebApp.BiometricManager.isAccessGranted),te=r(Telegram.WebApp.BiometricManager.isAccessGranted),ne=r(Telegram.WebApp.BiometricManager.deviceId);function Xe(){K.value=Telegram.WebApp.BiometricManager.isInited,X.value=Telegram.WebApp.BiometricManager.isBiometricAvailable,Y.value=Telegram.WebApp.BiometricManager.biometricType,Z.value=Telegram.WebApp.BiometricManager.isAccessRequested,ee.value=Telegram.WebApp.BiometricManager.isAccessGranted,ne.value=Telegram.WebApp.BiometricManager.deviceId,te.value=Telegram.WebApp.BiometricManager.isBiometricTokenSaved}function Ye(){const{onEvent:e}=d(),n=(a,i)=>e("biometricManagerUpdated",a,i),t=(a,i)=>e("biometricAuthRequested",a,i),o=(a,i)=>e("biometricTokenUpdated",a,i);return n(Xe),{isBiometricInited:c(K),isBiometricAvailable:c(X),biometricType:c(Y),isBiometricAccessRequested:c(Z),isBiometricAccessGranted:c(ee),isBiometricTokenSaved:c(te),biometricDeviceId:c(ne),initBiometric:Ge,requestBiometricAccess:Je,authenticateBiometric:Fe,updateBiometricToken:$e,openBiometricSettings:Ke,onBiometricManagerUpdated:n,onBiometricAuthRequested:t,onBiometricTokenUpdated:o}}Telegram.WebApp;const ae=r(Telegram.WebApp.isClosingConfirmationEnabled);function oe(){ae.value=Telegram.WebApp.isClosingConfirmationEnabled}function _(...e){Telegram.WebApp.enableClosingConfirmation(...e),oe()}function x(...e){Telegram.WebApp.disableClosingConfirmation(...e),oe()}function Ze(){return{isClosingConfirmationEnabled:s({get(){return ae.value},set(e){e?_():x()}}),enableClosingConfirmation:_,disableClosingConfirmation:x}}Telegram.WebApp.CloudStorage;const{impactOccurred:et,notificationOccurred:tt,selectionChanged:nt}=Telegram.WebApp.HapticFeedback;function At(){return{impactOccurred:et,notificationOccurred:tt,selectionChanged:nt}}const ie=r(Telegram.WebApp.MainButton.text),re=r(Telegram.WebApp.MainButton.color),le=r(Telegram.WebApp.MainButton.textColor),se=r(Telegram.WebApp.MainButton.isVisible),ue=r(Telegram.WebApp.MainButton.isActive),pe=r(Telegram.WebApp.MainButton.isProgressVisible);function A(){ie.value=Telegram.WebApp.MainButton.text,re.value=Telegram.WebApp.MainButton.color,le.value=Telegram.WebApp.MainButton.textColor,se.value=Telegram.WebApp.MainButton.isVisible,ue.value=Telegram.WebApp.MainButton.isActive,pe.value=Telegram.WebApp.MainButton.isProgressVisible}function P(...e){Telegram.WebApp.MainButton.setText(...e),A()}function V(...e){Telegram.WebApp.MainButton.show(...e),A()}function E(...e){Telegram.WebApp.MainButton.hide(...e),A()}function q(...e){Telegram.WebApp.MainButton.enable(...e),A()}function D(...e){Telegram.WebApp.MainButton.disable(...e),A()}function L(...e){Telegram.WebApp.MainButton.showProgress(...e),A()}function Q(...e){Telegram.WebApp.MainButton.hideProgress(...e),A()}function C(...e){Telegram.WebApp.MainButton.setParams(...e),A()}function at(){const{onEvent:e}=d(),n=(t,o)=>e("mainButtonClicked",t,o);return{mainButtonText:s({get(){return ie.value},set(t){P(t)}}),mainButtonColor:s({get(){return re.value},set(t){C({color:t})}}),mainButtonTextColor:s({get(){return le.value},set(t){C({text_color:t})}}),isMainButtonVisible:s({get(){return se.value},set(t){t?V():E()}}),isMainButtonActive:s({get(){return ue.value},set(t){t?q():D()}}),isMainButtonProgressVisible:s({get(){return pe.value},set(t){t?L():Q()}}),setMainButtonText:P,onMainButtonClicked:n,showMainButton:V,hideMainButton:E,enableMainButton:q,disableMainButton:D,showMainButtonProgress:L,hideMainButtonProgress:Q,setMainButtonParams:C}}const{switchInlineQuery:ot,openLink:it,openTelegramLink:rt,openInvoice:lt}=Telegram.WebApp;function ht(){const{onEvent:e}=d();return{switchInlineQuery:ot,openLink:it,openTelegramLink:rt,openInvoice:lt,onInvoiceClosed:(n,t)=>e("invoiceClosed",n,t)}}const{showPopup:st,showAlert:ut,showConfirm:pt}=Telegram.WebApp;function k(){const{onEvent:e}=d();return{showPopup:st,showAlert:ut,showConfirm:pt,onPopupClosed:(n,t)=>e("popupClosed",n,t)}}const{showScanQrPopup:ct,closeScanQrPopup:gt}=Telegram.WebApp;function mt(){const{onEvent:e}=d();return{showScanQrPopup:ct,closeScanQrPopup:gt,onQrTextReceived:(n,t)=>e("qrTextReceived",n,t),onScanQrPopupClosed:(n,t)=>e("scanQrPopupClosed",n,t)}}Telegram.WebApp;d();const ce=r(Telegram.WebApp.SettingsButton.isVisible);function ge(){ce.value=Telegram.WebApp.SettingsButton.isVisible}function U(...e){Telegram.WebApp.SettingsButton.show(...e),ge()}function R(...e){Telegram.WebApp.SettingsButton.hide(...e),ge()}function dt(){const{onEvent:e}=d(),n=(t,o)=>e("settingsButtonClicked",t,o);return{isSettingsButtonVisible:s({get(){return ce.value},set(t){t?U():R()}}),onSettingsButtonClicked:n,showSettingsButton:U,hideSettingsButton:R}}const me=r(Telegram.WebApp.colorScheme),de=r(Telegram.WebApp.themeParams),be=r(Telegram.WebApp.headerColor),Be=r(Telegram.WebApp.backgroundColor);function y(){me.value=Telegram.WebApp.colorScheme,de.value={...Telegram.WebApp.themeParams},be.value=Telegram.WebApp.headerColor,Be.value=Telegram.WebApp.backgroundColor}function H(...e){Telegram.WebApp.setHeaderColor(...e),y()}function I(...e){Telegram.WebApp.setBackgroundColor(...e),y()}function vt(){const{onEvent:e}=d(),n=(t,o)=>e("themeChanged",t,o);return n(y),{colorScheme:c(me),themeParams:c(de),headerColor:s({get(){return be.value},set(t){H(t)}}),backgroundColor:s({get(){return Be.value},set(t){I(t)}}),setHeaderColor:H,setBackgroundColor:I,onThemeChanged:n}}const fe=r(Telegram.WebApp.isExpanded),Te=r(Telegram.WebApp.viewportHeight),Ae=r(Telegram.WebApp.viewportStableHeight),he=r(Telegram.WebApp.isVerticalSwipesEnabled);function S(){fe.value=Telegram.WebApp.isExpanded,Te.value=Telegram.WebApp.viewportHeight,Ae.value=Telegram.WebApp.viewportStableHeight,he.value=Telegram.WebApp.isVerticalSwipesEnabled}function bt(...e){Telegram.WebApp.expand(...e),S()}const j=(...e)=>{Telegram.WebApp.enableVerticalSwipes(...e),S()},z=(...e)=>{Telegram.WebApp.disableVerticalSwipes(...e),S()};function Bt(){const{onEvent:e}=d(),n=(t,o)=>e("viewportChanged",t,o);return n(S),{isExpanded:c(fe),viewportHeight:c(Te),viewportStableHeight:c(Ae),expand:bt,onViewportChanged:n,isVerticalSwipesEnabled:s({get(){return he.value},set(t){t?j():z()}}),enableVerticalSwipes:j,disableVerticalSwipes:z}}const Wt={install(e){e.component("TgAlert",ve),e.component("TgBackButton",We),e.component("TgBiometricManager",Se),e.component("TgClosingConfirmation",Ce),e.component("TgConfirm",ke),e.component("TgExpandedViewport",ye),e.component("TgMainButton",we),e.component("TgPopup",Me),e.component("TgScanQr",_e),e.component("TgSettingsButton",xe),e.component("TgShareWidget",Pe),e.component("TgPostWidget",Ve),e.component("TgLoginWidget",Ee),e.component("TgDiscussionWidget",qe)}};export{At as $,vt as H,Wt as L,Ne as N,ht as V,Bt as _,d as g};
